<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Meta-analytic selection models with cluster-robust and cluster-bootstrap standard errors • metaselection</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Meta-analytic selection models with cluster-robust and cluster-bootstrap standard errors">
<meta name="description" content="Fits a flexible class of p-value selection models for meta-analysis and meta-regression models, providing standard errors and confidence intervals based on either cluster-robust variance estimators (i.e., sandwich estimators) or cluster-level bootstrapping. Supported models include generalizations of the step-function selection model as proposed by Vevea and Hedges (1995) &lt;DOI:10.1007/BF02294384&gt; and the beta-function selection model as proposed by Citkowicz and Vevea (2017) &lt;DOI:10.1037/met0000119&gt;.">
<meta property="og:description" content="Fits a flexible class of p-value selection models for meta-analysis and meta-regression models, providing standard errors and confidence intervals based on either cluster-robust variance estimators (i.e., sandwich estimators) or cluster-level bootstrapping. Supported models include generalizations of the step-function selection model as proposed by Vevea and Hedges (1995) &lt;DOI:10.1007/BF02294384&gt; and the beta-function selection model as proposed by Citkowicz and Vevea (2017) &lt;DOI:10.1037/met0000119&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">metaselection</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/selection_models.html">P-Value Selection Models for Meta-Analysis with Dependent Effects</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jepusto/metaselection/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="metaselection">metaselection<a class="anchor" aria-label="anchor" href="#metaselection"></a>
</h1></div>
<p>Selective reporting occurs when statistically significant, affirmative results are more likely to be reported (and therefore more likely to be available for meta-analysis) compared to null, non-affirmative results. Selective reporting is a major concern for research synthesis because it distorts the evidence base available for meta-analysis. Failure to account for selective reporting can inflate effect size estimates from meta-analysis and bias estimates of heterogeneity, making it difficult to draw accurate conclusions from a synthesis.</p>
<p>There are many tools available already to investigate and correct for selective outcome reporting. Widely used methods include: graphical diagnostics like funnel plots; tests and adjustments for funnel plot asymmetry like trim-and-fill, Egger’s regression, PET/PEESE, selection models, and p-value diagnostics. However, very few methods available for investigating selective reporting can accommodate dependent effect sizes. Such limitation poses a problem for meta-analyses in education, psychology and other social sciences, where dependent effects are a very common feature of meta-analytic data.</p>
<p>Dependent effect sizes occur when primary studies report multiple measures of the outcomes or repeated measures of the outcome. Failing to account for dependency can result in misleading conclusions too narrow confidence intervals and hypothesis tests that have inflated type one error rates.</p>
<p>X (2024) developed and examined methods for investigating and accounting for selective reporting in meta-analysis that account for dependent effect sizes. The results showed that selection models combined with robust variance estimation led to lower bias in the estimate of the overall effect size. Combining the selection models with cluster bootstrapping led to close to nominal coverage rates.</p>
<p>Our metaselection package provides a set of functions that implements these methods. The main function, <code><a href="reference/selection_model.html">selection_model()</a></code>, fits step function and beta density selection models. To handle dependence in the effect size estimates, the function provides options to use cluster-robust (sandwich) variance estimation or cluster bootstrapping to assess uncertainty in the model parameter estimates.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of the package from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jepusto/metaselection"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The following example uses data from a meta-analysis by Lehmann meta-analysis which examined the effects of color red on attractiveness judgments. The dataset is included in the <code>metadat</code> package (White et al. 2022) as <code>dat.lehmann</code>. In the code below, we fit a step function selection model to the Lehmann dataset using the <code><a href="reference/selection_model.html">selection_model()</a></code> function, with confidence intervals computed using cluster bootstrapping. For further details, please see the vignette.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jepusto/metaselection" class="external-link">metaselection</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dat.lehmann2018"</span>, package <span class="op">=</span> <span class="st">"metadat"</span><span class="op">)</span></span>
<span><span class="va">dat.lehmann2018</span><span class="op">$</span><span class="va">study</span> <span class="op">&lt;-</span> <span class="va">dat.lehmann2018</span><span class="op">$</span><span class="va">Full_Citation</span></span>
<span><span class="va">dat.lehmann2018</span><span class="op">$</span><span class="va">sei</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">dat.lehmann2018</span><span class="op">$</span><span class="va">vi</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">20240910</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod_3PSM_boot</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/selection_model.html">selection_model</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">dat.lehmann2018</span>, </span>
<span>  yi <span class="op">=</span> <span class="va">yi</span>,</span>
<span>  sei <span class="op">=</span> <span class="va">sei</span>,</span>
<span>  cluster <span class="op">=</span> <span class="va">study</span>,</span>
<span>  selection_type <span class="op">=</span> <span class="st">"step"</span>,</span>
<span>  steps <span class="op">=</span> <span class="fl">.025</span>,</span>
<span>  CI_type <span class="op">=</span> <span class="st">"percentile"</span>,</span>
<span>  bootstrap <span class="op">=</span> <span class="st">"multinomial"</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">19</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod_3PSM_boot</span>, transf_gamma <span class="op">=</span> <span class="cn">TRUE</span>, transf_zeta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="do">##     param    Est     SE percentile_lower percentile_upper</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="do">##      beta 0.1328 0.1373          -0.0327            0.377</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="do">##      tau2 0.0811 0.0845           0.0015            0.198</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="do">##  lambda_1 0.5485 0.6160           0.0888            3.055</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="related-work">Related Work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h2>
<p>We want to recognize other packages that provide functions to selection modeling.</p>
<p>Several existing packages provide tools for estimating selection models assuming that effects are independent. The <code>metafor</code> package (Viechtbauer 2010) includes the <code>selmodel()</code> function, which allows users to fit many different types of selection models. The <code>weightr</code> package (Coburn and Vevea 2019) includes functions to estimate a class of p-value selection models described in Vevea and Hedges (1995). However, the functions available in these packages can only be applied to meta-analytic data assuming that the effects are independent. In addition, the <code>PublicationBias</code> package (Braginsky, Mathur, and VanderWeele 2023) implements sensitivity analyses for selective reporting bias that incorporate robust variance estimation methods for handling dependent effect sizes. However, the sensitivity analyses implemented in the package are based on a pre-specified degree of selective reporting, rather than allowing the degree of selection to be estimated from the data. The sensitivity analyses are also based on a specific and simple form of the step-function model, and do not allow consideration of more complex forms of selection functions.</p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-PublicationBias" class="csl-entry">
Braginsky, Mika, Maya Mathur, and Tyler J. VanderWeele. 2023. <em>PublicationBias: Sensitivity Analysis for Publication Bias in Meta-Analyses</em>. <a href="https://CRAN.R-project.org/package=PublicationBias" class="external-link uri">https://CRAN.R-project.org/package=PublicationBias</a>.
</div>
<div id="ref-weightr" class="csl-entry">
Coburn, Kathleen M., and Jack L. Vevea. 2019. <em>Weightr: Estimating Weight-Function Models for Publication Bias</em>. <a href="https://CRAN.R-project.org/package=weightr" class="external-link uri">https://CRAN.R-project.org/package=weightr</a>.
</div>
<div id="ref-vevea1995" class="csl-entry">
Vevea, Jack L., and Larry V. Hedges. 1995. “A General Linear Model for Estimating Effect Size in the Presence of Publication Bias.” <em>Psychometrika</em> 60 (3): 419435. <a href="https://doi.org/10.1007/BF02294384" class="external-link uri">https://doi.org/10.1007/BF02294384</a>.
</div>
<div id="ref-metafor" class="csl-entry">
Viechtbauer, Wolfgang. 2010. “Conducting Meta-Analyses in R with the <span class="nocase">metafor</span> Package.” <em>Journal of Statistical Software</em> 36 (3): 1–48. <a href="https://doi.org/10.18637/jss.v036.i03" class="external-link uri">https://doi.org/10.18637/jss.v036.i03</a>.
</div>
<div id="ref-metadat" class="csl-entry">
White, Thomas, Daniel Noble, Alistair Senior, W. Kyle Hamilton, and Wolfgang Viechtbauer. 2022. <em>Metadat: Meta-Analysis Datasets</em>. <a href="https://CRAN.R-project.org/package=metadat" class="external-link uri">https://CRAN.R-project.org/package=metadat</a>.
</div>
</div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jepusto/metaselection/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing metaselection</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0591-9465" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://meghapsimatrix.com/" class="external-link">Megha Joshi</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-7936-076X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jepusto/metaselection/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/jepusto/metaselection/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/jepusto/metaselection" class="external-link"><img src="https://codecov.io/gh/jepusto/metaselection/graph/badge.svg?token=8T7IUFT1QV" alt="Codecov Status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a>, <a href="https://meghapsimatrix.com/" class="external-link">Megha Joshi</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
